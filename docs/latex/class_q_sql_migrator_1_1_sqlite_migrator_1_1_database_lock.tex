\hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}{}\section{Q\+Sql\+Migrator\+:\+:Sqlite\+Migrator\+:\+:Database\+Lock Class Reference}
\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}\index{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}}


The \hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}{Database\+Lock} try to lock a database for this Q\+Sql\+Migrator process. You have to check if you got the lock ( see example with operator bool ).  




{\ttfamily \#include $<$Database\+Lock.\+h$>$}

Inheritance diagram for Q\+Sql\+Migrator\+:\+:Sqlite\+Migrator\+:\+:Database\+Lock\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_abbbe7edb1c77fc3ed9a6a431b4d7cdcc}{Database\+Lock} (\hyperlink{class_q_sql_migrator_1_1_migration_execution_1_1_migration_execution_context}{Migration\+Execution\+::\+Migration\+Execution\+Context} \&context, unsigned int time\+Out\+Try\+Get\+Lock=time\+Out)
\item 
\hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a42a41f79c57bea1253bea7794ad788ca}{operator bool} () const
\item 
\hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_ae8acecfef4f54eee37becd846fcff87a}{$\sim$\+Database\+Lock} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static Q\+String \hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a77ec49dc6b304ebe0bdaada782eec6a6}{build\+Lock\+File\+Name} (const \hyperlink{class_q_sql_migrator_1_1_migration_execution_1_1_migration_execution_context}{Migration\+Execution\+::\+Migration\+Execution\+Context} \&context)
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_afe7f8ba95d43a7df07ee63e6f4e06926}\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_afe7f8ba95d43a7df07ee63e6f4e06926}} 
class {\bfseries Refresh\+Lock\+Is\+Living\+Invoker}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}{Database\+Lock} try to lock a database for this Q\+Sql\+Migrator process. You have to check if you got the lock ( see example with operator bool ). 

The lock will be done with a lock-\/file in the same folder where the db is locatded.

The lock will automatically released on deconstruction.

Example\+:

unsigned int time\+Out\+To\+Get\+Lock = 60; context c( ... ); \hyperlink{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock}{Database\+Lock} lock(c, time\+Out\+To\+Get\+Lock); if(lock) \{ // do mirgration stuff \} 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_abbbe7edb1c77fc3ed9a6a431b4d7cdcc}\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_abbbe7edb1c77fc3ed9a6a431b4d7cdcc}} 
\index{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}!Database\+Lock@{Database\+Lock}}
\index{Database\+Lock@{Database\+Lock}!Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}}
\subsubsection{\texorpdfstring{Database\+Lock()}{DatabaseLock()}}
{\footnotesize\ttfamily Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock\+::\+Database\+Lock (\begin{DoxyParamCaption}\item[{\hyperlink{class_q_sql_migrator_1_1_migration_execution_1_1_migration_execution_context}{Migration\+Execution\+::\+Migration\+Execution\+Context} \&}]{context,  }\item[{unsigned int}]{time\+Out\+Try\+Get\+Lock = {\ttfamily timeOut} }\end{DoxyParamCaption})}

try to make a lock for the database in the context \mbox{\Hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_ae8acecfef4f54eee37becd846fcff87a}\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_ae8acecfef4f54eee37becd846fcff87a}} 
\index{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}!````~Database\+Lock@{$\sim$\+Database\+Lock}}
\index{````~Database\+Lock@{$\sim$\+Database\+Lock}!Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}}
\subsubsection{\texorpdfstring{$\sim$\+Database\+Lock()}{~DatabaseLock()}}
{\footnotesize\ttfamily Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock\+::$\sim$\+Database\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

auto release the own lock 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a77ec49dc6b304ebe0bdaada782eec6a6}\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a77ec49dc6b304ebe0bdaada782eec6a6}} 
\index{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}!build\+Lock\+File\+Name@{build\+Lock\+File\+Name}}
\index{build\+Lock\+File\+Name@{build\+Lock\+File\+Name}!Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}}
\subsubsection{\texorpdfstring{build\+Lock\+File\+Name()}{buildLockFileName()}}
{\footnotesize\ttfamily Q\+String Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock\+::build\+Lock\+File\+Name (\begin{DoxyParamCaption}\item[{const \hyperlink{class_q_sql_migrator_1_1_migration_execution_1_1_migration_execution_context}{Migration\+Execution\+::\+Migration\+Execution\+Context} \&}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

return the lock file name which will be used for this migration context \mbox{\Hypertarget{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a42a41f79c57bea1253bea7794ad788ca}\label{class_q_sql_migrator_1_1_sqlite_migrator_1_1_database_lock_a42a41f79c57bea1253bea7794ad788ca}} 
\index{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock@{Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock}}
\subsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily Q\+Sql\+Migrator\+::\+Sqlite\+Migrator\+::\+Database\+Lock\+::operator bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

return true if the lock is successfully set for this process 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/george/\+Develop/\+Praaline\+Py/praaline-\/core/\+Q\+Sql\+Migrator/\+Databases/\+Sqlite\+Migrator/Database\+Lock.\+h\item 
/home/george/\+Develop/\+Praaline\+Py/praaline-\/core/\+Q\+Sql\+Migrator/\+Databases/\+Sqlite\+Migrator/Database\+Lock.\+cpp\end{DoxyCompactItemize}
